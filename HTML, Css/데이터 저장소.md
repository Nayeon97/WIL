## 🚀 local storage vs session storage vs cookie

#### [면접스터디 관련 자료](https://github.com/baeharam/Must-Know-About-Frontend/blob/main/Notes/cssmargin-collapsing.md) 를 읽고 나서 데이터 저장소 관련하여 추가적으로 정리하였습니다.

---

작성일: 2022년 4월 19일

### 💡 localStorage vs session storage vs cookie

공통점은? **데이터 저장소이며 'key-value' 값으로 데이터를 저장, 모든 key와 value는 항상 string로 저장된다** 는 것이다!  
그럼 가장 큰 차이점은? **데이터 보관기간** 이라고 한다.

### 🤔 그런데 데이터 저장소가 왜 필요한지 궁금해졌다...서버가 있는데..? 굳이 ?....이것부터 알아보자!

찾아보니, HTTP 특징과 관련이 있었다..그럼 먼저 HTTP 에 대해 정리해보자!

### ⛔️ HTTP (Hypertext Transfer Protocol)

**텍스트 기반의 통신 규약!** 웹에서 클라이언트와 서버의 데이터 통신을 위해 HTTP 프로토콜을 사용한다!

가장 큰 특징 두가지가 있는데, Connectionless 와 Stateless 이다.

✅ Connectionless

- 클라이언트가 요청을 한 후 응답을 받으면 그 연결을 끊어버린다.

✅ Stateless

- 통신이 끝나면 상태를 유지하지 않는다.  
   예를 들어, 쇼핑몰에서 옷을 구매하기 위해 로그인 화면에서 로그인을 하였지만! 페이지를 이동하게 되면 로그인한 상태가 유지되지 않는다!

### 1️⃣ localStorage?

localStorage는 토이 프로젝트였던 todoApp을 만들기 위해 사용해 본 적이 있다. 새로고침을 해도 내용이 남아있으면 좋겠다는 생각에 방법을 찾아보다가, 발견하였는데 사용방법만 간단히 익히고 그냥 사용하였다..🥲 오늘 제대로 알아보자!

✔️ 데이터를 사용자 로컬에 보존하는 방식.  
✔️ CRUD가 가능하다!  
✔️ JavaScript 로 조작한다!  
✔️ 모바일에서도 사용 가능하다!  
✔️ 클라이언트의 정보를 영구적으로 저장하고, 클라이언트에서만 읽을 수 있다.

그리고 HTML5가 나온 이후에는 cookie 를 사용하는 대신 -> LocalStorage 사용으로 많이 대체되었다고 한다. 대체된 이유는 당연히 더 많은 장점이 있기 때문인데, ✅ 가장 큰 이유로는 HTTP 요청에서 데이터를 주고 받을 필요가 없기 때문에, 클라이언트와 서버간의 전체 트래픽과 낭비되는 대역폭의 양을 줄일 수 있고, 데이터가 유저의 로컬 디스크에 저장되어 있는 방식(=서버에 불필요한 데이터를 저장하지 않아도 된다!)이기 때문에 인터넷이 끊어져도 데이터가 삭제되지 않는다.

✅ 두번째 장점으로는 쿠키는 최대 4KB 데이터를 저장할 수 있지만, localStorage는 최대 5MB의 정보를 저장할 수 있다.

😵 장점만 존재하는 것은 없다! 그럼 단점은 무엇일까...?

✅ HTML4만 지원되는 브라우저에는 지원이 안된다.  
✅ 데이터가 해킹될 위험이 있다! -> 해결 방법: 저장된 데이터를 암호화!

### 2️⃣ cookie?

<img src="../imgs/cookie.png" width="300" height="300"/>

초등학생 시절 학교에서 배웠던 인터넷 사용법...중에서 임시쿠키 삭제하기가 떠올랐다..😆

✔️ 사용자를 식별하는데 자
✔️ 두 가지 유형이 있다. Persistent cookie와 Session cookie!  
🍪 Persistent cookie : 단어 그대로 임시 쿠키다! 사용자가 브라우저를 닫는 순간 삭제된다.  
🍪 Session cookie :

---

https://developer.mozilla.org/ko/docs/Web/HTTP/Overview

https://erwinousy.medium.com/%EC%BF%A0%ED%82%A4-vs-%EB%A1%9C%EC%BB%AC%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B0%A8%EC%9D%B4%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C-28b8db2ca7b2

https://velog.io/@kenatman/General-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%A1%9C%EC%BB%AC%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80
